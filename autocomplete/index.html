<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script src="autocomplete.js" type="text/javascript"></script>
</head>
<body>
<style type="text/css">
    body {
        margin: 0;
        padding: 0;
    }

    #region {
        width: 100px;
        height: 24px;
        border: 1px solid #FFCACA;
        margin: 0;
        padding: 0;
    }

    #region-list {
        position: absolute;
        width: 100px;
        top: 24px;
        left: 0px;
        border: 1px solid #FFCACA;
        background-color: #F0F;

    }
</style>
<input type="text" id="region"/>

<div id="region-list"><!--添加事件: click-->
    <ul>
        <li>hello</li>
        <li>hello2</li>
        <li>hello3</li>
        <li>hello4</li>
    </ul>
</div>

<script type='text/javascript'>
    (function () {
        var show_list;
        var func;//请求数据函数
        var defer;
        var old_value;
        var element = document.getElementById('region');
        element.addEventListener('keyup', function (event) {
            console.log(event.keyCode);
            if (event.keyCode == 40) {//Down
                console.log('down');//向下选择列表
            } else if (event.keyCode == 38) {//Up
                console.log('up');//向上选择列表
            } else if (event.keyCode == 13) {//Return
                console.log('return');//选中列表项
            }else if(element.value==''){
                old_value = '';
            }else if (element.value!=old_value){
                var val = element.value;
                old_value = val;
                func = func || function () {
                    var xhr = new XMLHttpRequest();
                    xhr.open('GET', url, true);
                    if (val == element.value) {
                        show_list(data);
                    }
                }
                defer = defer || Defer.new(300, func);
                defer.exec(func);
            }
        });
        $('#region-list').delegate('ul li', 'click', function (event) {

        });
        // 创建查询element属性的方法
        var list = function () {
            var element = document.getElementById('region');
            var w = element.style.width;
            var h = element.style.height;
            var t = element.style.top;
            var l = element.style.left;
        };
    })();
</script>
</body>
</html>